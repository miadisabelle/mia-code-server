# Prompt Decomposition

## Directions

- üåÖ **EAST** ‚Äî VISION: What is being asked?
- üî• **SOUTH** ‚Äî ANALYSIS: What needs to be learned?
- üåä **WEST** ‚Äî VALIDATION: What needs reflection?
- ‚ùÑÔ∏è **NORTH** ‚Äî ACTION: What executes the cycle?

## Original Prompt

> using the @llms/llms-rise-framework.txt  you will study `/src/mia-code/` and `/src/Miadi/` (they both also should have a ./rispecs for their corresponding to code implementation RISE Framework files) and this fork of 'code-server' would be rebranded 'mia-code-server' (so you need to change any packaging, references etc so it can be published as that, this is your mission no 1.  Mission number 2 is that the 2 studies you did of `/src/mia-code/` and `/src/Miadi/` should reveal many patterns and implementation that we will want todo to host these 2 codebase into a server like 'code-server' (if you want, all that is developped in  `/src/Miadi/` does not deliver what it should, therefore, you will identify core component that could help us implement that in here.  `/src/mia-code/miaco` contains a great 'coDevOps' CLI that should become a module or something for the main 'mia-code' and also a similar implementation is made into `/src/Miadi/miadi-code` for agentic presence within the IDE such as this code-server (becoming 'mia-code-server').  You will draft from these studies and conceptualization of what you envision a maximum of 100 specs in ./rispecs/ (you can create subfolders to organize that into adequate libraries/components/modules or whatever you call it). I know that in ./libs/vscode is a submodule of repo microsoft/vscode and we might have to make a version for ourselves by implementing our work in there, I already forked it in repo "git@github.com:miadisabelle/mia-vscode.git" so changing the submodule to that repo might be one of the things to plan, thought focus on writing the ./rispecs/mia-vscode/ first but analyzing what we should do to have this whole agentic tooling developped in these platform in here should be what we envision (I am expecting probably at least 50 specs in your first run).  As measure, If I give these specs to another LLM, he should be capable to fully implement that.

## Primary Intent

**Action:** create
**Target:** RISE specifications for mia-code-server platform integrating miaco/miadi-code agentic tooling
**Urgency:** immediate
**Confidence:** 90%

## Secondary Intents

1. **rebrand** ‚Äî code-server to mia-code-server (package.json, references, publishing config) _(explicit)_
2. **study** ‚Äî jgwill/Miadi and mia-code/miaco codebases for patterns and core components _(explicit)_
3. **identify** ‚Äî core components from Miadi that could be re-implemented in mia-code-server _(explicit)_
   - depends on: study
4. **modularize** ‚Äî miaco coDevOps CLI into a module for mia-code-server _(explicit)_
   - depends on: study
5. **integrate** ‚Äî miadi-code agentic presence into IDE server context _(explicit)_
   - depends on: identify
6. **change** ‚Äî lib/vscode submodule from microsoft/vscode to miadisabelle/mia-vscode _(explicit)_
7. **create** ‚Äî rispecs/mia-vscode/ specs for VS Code customization layer _(explicit)_
   - depends on: study
8. **design** ‚Äî Intelligent CoDevOps / Narrative-Driven Platform branding _(implicit)_
   - depends on: identify
9. **update** ‚Äî README.md with platform branding linked to rispecs/README.md _(explicit)_
   - depends on: design
10. **conceptualize** ‚Äî Three-Universe agentic tooling within code-server/VS Code platform _(implicit)_
   - depends on: study
11. **preserve** ‚Äî structural tension dynamics and RISE framework patterns in all specs _(implicit)_

## Context Requirements

### Files Needed
- llms/llms-rise-framework.txt
- package.json
- .gitmodules
- README.md
- src/node/
- src/browser/
- jgwill/Miadi/miadi-code/
- jgwill/mia-co/
- jgwill/Miadi/rispecs/
- miadisabelle/mia-vscode/

### Tools Required
- github-mcp-server
- file-editor
- bash
- pde

### Assumptions
- Both /src/mia-code/ and /src/Miadi/ directories should exist (they are external repos to be integrated)
- lib/vscode submodule currently points to microsoft/vscode
- miadisabelle/mia-vscode fork already exists and is ready to use
- Miadi/miadi-code does not deliver what it should - core components need extraction
- miaco offers a 'great' coDevOps CLI pattern worth preserving
- The platform should host Next.js/React narrative web plus VS Code IDE
- At least 50 specs are expected in the first run
- Specs must be self-sufficient for another LLM to implement from scratch

## Four Directions Analysis

### üåÖ EAST ‚Äî VISION

- Vision: mia-code-server as Intelligent CoDevOps / Narrative-Driven Development Platform [85%] _(implicit)_
- Three-Universe agentic presence embedded in IDE and server [80%] _(implicit)_
- Unified platform merging miaco CLI, miadi-code agent, and VS Code IDE [85%]

### üî• SOUTH ‚Äî ANALYSIS

- Study miaco CLI architecture: schema, validation, tracing, STC charts [90%]
- Study miadi-code: three-universe processor, multi-engine, PDE, sessions [90%]
- Study Miadi platform: Next.js, Redis, workflow engine, MCP, agents [85%]
- Analyze code-server architecture for extension points [80%] _(implicit)_

### üåä WEST ‚Äî VALIDATION

- Validate specs are self-sufficient for LLM implementation [85%]
- Verify RISE framework compliance in all specifications [80%] _(implicit)_
- Ensure rebranding completeness (no code-server references remain) [90%] _(implicit)_

### ‚ùÑÔ∏è NORTH ‚Äî ACTION

- Create 50-100 RISE specs organized in rispecs/ subfolders [90%]
- Rebrand package.json, .gitmodules, README.md [95%]
- Change lib/vscode submodule to miadisabelle/mia-vscode [90%]
- Design README.md with platform branding linked to rispecs network [80%]

## Action Stack

- [x] Study RISE framework document for spec authoring patterns
- [x] Study miaco CLI patterns (schema, validation, tracing, STC)
- [x] Study miadi-code agent (three-universe, engines, PDE, sessions)
- [x] Study Miadi platform (Next.js, Redis, workflows, MCP, agents)
- [x] Analyze code-server extension points and architecture
- [ ] Conceptualize unified Narrative-Driven CoDevOps Platform (depends on: study phases)
- [ ] Create rispecs directory structure with organized subfolders (depends on: conceptualize)
- [ ] Write rispecs/README.md as spec network index (depends on: create structure)
- [ ] Write mia-server-core specs (server, auth, proxy, routes) (depends on: README)
- [ ] Write miaco-module specs (schema, validation, tracing, STC) (depends on: README)
- [ ] Write three-universe specs (processor, lenses, coherence) (depends on: README)
- [ ] Write agentic-ide specs (extension, panels, commands) (depends on: three-universe)
- [ ] Write mia-vscode specs (customization, theming, extensions) (depends on: agentic-ide)
- [ ] Write narrative-intelligence specs (memory, beats, lattice) (depends on: three-universe)
- [ ] Write codevops-platform specs (CI/CD, webhooks, workflow) (depends on: miaco-module)
- [ ] Rebrand package.json to mia-code-server
- [ ] Update .gitmodules to miadisabelle/mia-vscode
- [ ] Write branded README.md linked to rispecs (depends on: rebrand + specs)
- [ ] Validate all specs for RISE compliance and LLM implementability (depends on: all specs written)

## Ambiguity Flags

- **"Exact boundary between miaco and miadi-code features when merged into mia-code-server"**
  - Suggestion: Miaco = engineering/schema/validation CLI module; miadi-code = interactive agentic IDE presence
- **"Whether /src/mia-code/ and /src/Miadi/ should be added as submodules or just referenced in specs"**
  - Suggestion: Referenced in specs since they are external source codebases for pattern extraction
- **"Scope of mia-vscode customization: theme only or deep extension API changes"**
  - Suggestion: Start with extension-level customization, plan for deeper integration as specs mature
- **"Platform name: 'Intelligent CoDevOps' vs 'Narrative-Driven Platform' vs other"**
  - Suggestion: Use working title in specs, refine branding in README after spec landscape is clear

## Expected Outputs

### Artifacts
- rispecs/README.md
- rispecs/mia-vscode/*.spec.md (10-15 specs)
- rispecs/mia-server-core/*.spec.md (8-12 specs)
- rispecs/miaco-module/*.spec.md (8-10 specs)
- rispecs/three-universe/*.spec.md (6-8 specs)
- rispecs/narrative-intelligence/*.spec.md (5-8 specs)
- rispecs/agentic-ide/*.spec.md (6-8 specs)
- rispecs/codevops-platform/*.spec.md (5-7 specs)

### Updates
- package.json (rebrand to mia-code-server)
- .gitmodules (change vscode submodule)
- README.md (new platform branding)
